{% extends "defaultPage.html" %}

{% block title %}Página Inicial{% endblock %}

{% block content %}

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <div class="content-header">
                <div class="container">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="m-0"> Atualizar informações de conexão.</small></h1>
                        </div><!-- /.col -->
                        <div class="col-sm-6">

                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->

            <!-- Main content -->
            <div class="content">
                <div class="container">
                    <div class="row">
                        <div class="col-lg">

                            <form action="{{url_for('connection_update_post' , id=connection['id'])}}" method="POST">
                                <div class="card-body">
                                  <div class="form-group">
                                    <label for="">Robot type</label>
                                    <select class="form-control" name="robot_id">
                                        {% for robot in robots %}
                                          <option  value="{{robot['id']}}" 
                                            {% if robot['id'] == connection['robot']['id'] %}
                                            selected
                                            {% endif %}
                                          >{{robot["type"]}}</option>
                                        {% endfor %}
                                      </select>
                                  </div>
                                  <div class="form-group">
                                    <label for="">Broker connection</label>
                                    <select class="form-control" name="broker_id">
                                        {% for broker in brokers %}
                                        <option  value="{{broker['id']}}" 
                                        {% if broker['id'] == connection['broker']['id'] %}
                                            selected
                                        {% endif %}
                                        >{{broker["nickname"]}}</option>
                                        {% endfor %}
                                      </select>
                                  </div>
                                  <div class="form-group">
                                    <label for="robotIp">Robot ip</label>
                                    <input type="text" class="form-control" id="robotIp" name="ip" placeholder="Enter robot ip" value="{{connection['ip']}}">
                                  </div>
                                  <div class="form-group">
                                    <label for="robotport">Robot port</label>
                                    <input type="text" class="form-control" id="robotport" name="port" placeholder="Enter robot port" value="{{connection['port']}}">
                                  </div>
                                  <div class="form-group">
                                    <label for="robotDescription">Connection description</label>
                                    <input type="text" class="form-control" id="robotDescription" name="description" placeholder="Enter a description" value="{{connection['description']}}">
                                  </div>
                                  <div class="form-group">
                                    <label for="robotPassword">Connection token</label>
                                    <input type="text" class="form-control" id="robotPassword"  name ="token"placeholder="Enter the token" value="{{connection['token']}}">
                                  </div>
                                  <div class="form-group">
                                    <label for="robotMqttTopic">Mqtt topic</label>
                                    <input type="text" class="form-control" id="robotMqttTopic" name="topic" placeholder="Enter topic" value="{{connection['mqttTopic']}}">
                                  </div>

                                  </div>
                                  
                              
                                <!-- /.card-body -->
                
                                <div class="card-footer">
                                  <button type="submit" class="btn btn-primary"  >Submit</button>
                                </div>
                              </form>

                        </div>
                        <!-- /.col-md-6 -->

                    </div>
                    <!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

    {% endblock %}